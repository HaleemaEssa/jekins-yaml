@Library("shared-library") _
def str = 
'''
steps:
 - type: sh
   script: ls -la 
 - type: echo
   message: xxx
'''
Closure closure = yamlCompiler(str)
closure.call()
pipeline:
   agent: 
    any:
   environment: 
    DOCKERHUB_CREDENTIALS: credentials('haleema-dockerhub')
   stages:
     - stage: "Stage1"
       steps:
         - sh 'echo $DOCKERHUB_CREDENTIALS_PSW | docker login -u $DOCKERHUB_CREDENTIALS_USR --password-stdin'
         - sh "java -version"
         - sh "git --version"
         - sh "docker --version"
     - stage: "RPiNode"
       steps:
         - sh 'echo "rpi" '
         - git "https://github.com/HaleemaEssa/first_jenkins_project.git"
         
              
